<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss/dist/tailwind.min.css">
    
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <title>1020 Hivezzz Short Buzzz</title>
</head>
<body class="bg-black h-screen flex flex-col items-center justify-center">
    <nav class="bg-1020-hivezzz-500 flex items-center justify-center">
      <img src="/img/Another_one_logo_1020Hivezzz(White_with_Yellow).png" alt="1020 Hivezzz logo" class="h-24">
    </nav>
    <form action="https://sheetdb.io/api/v1/jvvo5j47mqixe" method="post" id="sheetdb-form"class="bg-white p-6 rounded-lg mt-8">
      <h1 class="text-lg font-medium mb-4">Sign Up</h1>
      <div class="mb-4">
        <label class="block text-gray-700 font-medium mb-2">Name</label>
        <input class="border border-gray-400 p-2 rounded-lg w-full" type="text" id="name" name="data[name]">
      </div>
      <div class="mb-4">
        <label class="block text-gray-700 font-medium mb-2">Surname</label>
        <input class="border border-gray-400 p-2 rounded-lg w-full" type="text" id="surname" name="data[surname]">
      </div>
      <div class="mb-4">
        <label class="block text-gray-700 font-medium mb-2">Phone Number</label>
        <input class="border border-gray-400 p-2 rounded-lg w-full" type="text" id="phone" name="data[phone]">
      </div>
      <button class="bg-yellow-400 text-black p-2 rounded-lg hover:bg-yellow-200" onclick="submitForm()">Sign Up</button>
      
    </form>
    <script>

const generateCode = () => {
  // Generate a random 10-digit code
  var code = '';
  for (var i = 0; i < 10; i++) {
    code += Math.floor(Math.random() * 10);
  }
  return code;
}

const submitForm = (event) => {
  // Prevent default form submission behavior
  event.preventDefault();

  // Generate a unique 10-digit code
  var code = generateCode();

  // Set the code value to the hidden input field in the form
  var form = document.getElementById('sheetdb-form');
  var input = document.createElement('input');
  input.type = 'hidden';
  input.name = 'data[code]';
  input.value = code;
  form.appendChild(input);

  // Submit the form
  form.submit();

  // Clear all text fields on the page
  var inputs = document.querySelectorAll('input[type="text"]');
  for (var i = 0; i < inputs.length; i++) {
    inputs[i].value = '';
  }

  // Display success message to user
  alert('Sign up successful! Your unique code is ' + code + '.');
}

// Attach event listener to form submission button
var submitButton = document.getElementById('submit-button');
submitButton.addEventListener('click', submitForm);
    

    </script>
  </body>
</html>
